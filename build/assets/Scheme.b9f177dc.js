import{A as K,N as X,_ as J,U as Q,o as W,f as Y,n as Z}from"./AppLayout.c471b81a.js";import{_ as $}from"./TextInput.86ba2c92.js";import{_ as ee}from"./InputLabel.5855d489.js";import{o as r,e as i,a as e,B as _,c as w,w as u,b as a,f as m,F as C,i as S,g as k,t as v,n as g,D as q,N as V}from"./app.c9482037.js";import{_ as te}from"./_plugin-vue_export-helper.cdc0426e.js";import{A as se,L as oe,B as le,F as re,H as ie,j as ae}from"./combobox.c960a843.js";import{r as ne,a as ce,b as ue}from"./MagnifyingGlassIcon.72cf383a.js";import{l as me}from"./switch.67ed66d7.js";function de(l,t){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}function _e(l,t){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function he(l,t){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})])}const pe={components:{AppLayout:K,TextInput:$,InputLabel:ee,Dialog:X,DialogPanel:J,DialogTitle:Q,TransitionChild:W,TransitionRoot:Y,Combobox:se,ComboboxButton:oe,ComboboxInput:le,ComboboxLabel:re,ComboboxOption:ie,ComboboxOptions:ae,Switch:me,MagnifyingGlassIcon:ne,PlusIcon:ce,ExclamationTriangleIcon:ue,CheckIcon:he,ChevronUpDownIcon:Z,XCircleIcon:_e,TrashIcon:de},props:["all_schemes","prerequisites","rule_values"],data(){return{filteredPreRequisites:this.prerequisites,query:"",display_schemes:this.all_schemes,site_villages:[],search_query:"",scheme_form:{show_popup:!1,popup_title:"Create New Scheme",is_active:!0,pre_requisite_search:"",category:{value:"",error:!1},department:{value:"",error:!1},name:{value:"",error:!1},type:{value:"",error:!1},followup_days:{value:"",error:!1},pre_requisites:[],pre_requisite_error:!1,save_type:"new",scheme_id:null,processing:!1},rules_form:{show_popup:!1,popup_title:"Set Rules",rules:[],scheme_id:null,processing:!1},delete_form:{scheme_name:"",scheme_id:null,show_popup:!1,processing:!1}}},methods:{search(){var l=this.search_query.toString().toLowerCase();if(l.length>0){this.display_schemes=[];for(var t in this.all_schemes){var n=this.all_schemes[t];if(n.name.toString().toLowerCase().includes(l)){this.display_schemes.push(n);continue}if(n.department.toString().toLowerCase().includes(l)){this.display_schemes.push(n);continue}if(n.type.toString().toLowerCase().includes(l)){this.display_schemes.push(n);continue}if(n.category.toString().toLowerCase().includes(l)){this.display_schemes.push(n);continue}}}else this.display_schemes=this.all_schemes},filterPreRequisites(l){var t=l.target.value.toString().toLowerCase();if(this.filteredPreRequisites=[],t.length>0)for(var n in this.prerequisites){var d=this.prerequisites[n];d.name.toLowerCase().includes(t)&&this.filteredPreRequisites.push(d)}else this.filteredPreRequisites=this.prerequisites},removeDocument(l){this.scheme_form.pre_requisites=this.scheme_form.pre_requisites.filter(t=>t!==l)},addScheme(){this.scheme_form.category.error=!1,this.scheme_form.department.error=!1,this.scheme_form.name.error=!1,this.scheme_form.type.error=!1,this.scheme_form.followup_days.error=!1,this.scheme_form.save_type="new",this.scheme_form.scheme_id=null,this.scheme_form.is_active=!0,this.scheme_form.popup_title="Create New Scheme",this.scheme_form.show_popup=!0},editScheme(l){this.scheme_form.category.error=!1,this.scheme_form.department.error=!1,this.scheme_form.name.error=!1,this.scheme_form.type.error=!1,this.scheme_form.followup_days.error=!1,this.scheme_form.save_type="edit",this.scheme_form.scheme_id=l.id,this.scheme_form.category.value=l.category,this.scheme_form.department.value=l.department,this.scheme_form.name.value=l.name,this.scheme_form.type.value=l.type,this.scheme_form.followup_days.value=l.followup_days,this.scheme_form.pre_requisites=l.documents_id,this.scheme_form.is_active=l.is_active==1,this.scheme_form.popup_title="Edit Scheme",this.scheme_form.show_popup=!0},editRules(l){var t=l.rules;if(this.rules_form.scheme_id=l.id,this.rules_form.popup_title=l.name,this.rules_form.show_popup=!0,t.length==0)this.rules_form.rules=[];else{this.rules_form.rules=[];for(var n in t){var d=t[n];this.rules_form.rules.push({field:{value:d.rule_name,error:!1},operator:{value:d.match_type,error:!1},matching_value:{value:d.rule_value,error:!1}}),this.setRuleValues(n,{operator:d.match_type,matching_value:d.rule_value})}}},setRuleValues(l,t=null){var n=this.rules_form.rules[l].field.value,d=this.rule_values[n];this.rules_form.rules[l].matching_value.value="",d=="number"?t==null?this.rules_form.rules[l].operator.value="greater_than":(this.rules_form.rules[l].operator.value=t.operator,this.rules_form.rules[l].matching_value.value=t.matching_value):(this.rules_form.rules[l].operator.value="equal_to",t==null?this.rules_form.rules[l].matching_value.value=d[0].value:this.rules_form.rules[l].matching_value.value=t.matching_value)},addCondition(){var l=this.rules_form.rules;for(var t in l){var n=l[t],d=n.matching_value.value.toString();if(d.length==0){n.matching_value.error=!0;return}n.matching_value.error=!1}var o=this.rule_values.state[0].value;this.rules_form.rules.push({field:{value:"state",error:!1},operator:{value:"equal_to",error:!1},matching_value:{value:o,error:!1}})},removeCondition(l){this.rules_form.rules.length!=1&&(this.rules_form.rules=this.rules_form.rules.filter(t=>t!==l))},deleteScheme(l,t){this.delete_form.scheme_name=l,this.delete_form.scheme_id=t,this.delete_form.show_popup=!0},validateForm(){this.scheme_form.category.error=!1,this.scheme_form.department.error=!1,this.scheme_form.name.error=!1,this.scheme_form.type.error=!1,this.scheme_form.followup_days.error=!1;var l=this.scheme_form.category.value.toString();if(l.length==0){this.scheme_form.category.error=!0;return}var t=this.scheme_form.department.value.toString();if(t.length==0){this.scheme_form.department.error=!0;return}var n=this.scheme_form.name.value.toString();if(n.length==0){this.scheme_form.name.error=!0;return}var d=this.scheme_form.type.value.toString();if(d.length==0){this.scheme_form.type.error=!0;return}var o=this.scheme_form.followup_days.value.toString();if(o.length==0){this.scheme_form.followup_days.error=!0;return}var c=this.scheme_form.pre_requisites;if(c.length==0){this.scheme_form.pre_requisite_error=!0;return}this.saveScheme(l,t,n,d,o,c)},saveScheme(l,t,n,d,o,c){this.scheme_form.processing=!0;var p=new FormData;p.append("category",l),p.append("department",t),p.append("name",n),p.append("type",d),p.append("followup_days",o),p.append("pre_requisites",JSON.stringify(c)),p.append("is_active",this.scheme_form.is_active?1:0),p.append("save_type",this.scheme_form.save_type),p.append("scheme_id",this.scheme_form.scheme_id);var D=this;axios.post("/schemes/save",p).then(function(x){D.scheme_form.processing=!1;var b=x.data;b.status==1&&D.$inertia.visit("/schemes",{only:["all_schemes"]})})},saveRulesForm(){this.rules_form.processing=!0;var l=new FormData;l.append("rules",JSON.stringify(this.rules_form.rules)),l.append("scheme_id",this.rules_form.scheme_id);var t=this;axios.post("/schemes/rules",l).then(function(n){t.rules_form.processing=!1;var d=n.data;d.status==1&&t.$inertia.visit("/schemes",{only:["all_schemes"]})})},deleteProcess(){this.delete_form.processing=!0;var l=new FormData;l.append("scheme_id",this.delete_form.scheme_id);var t=this;axios.post("/schemes/delete",l).then(function(n){t.delete_form.processing=!1;var d=n.data;d.status==1&&t.$inertia.visit("/schemes",{only:["all_schemes"]})})},isEmailValid(l){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()\.,;\s@\"]+\.{0,1})+([^<>()\.,;:\s@\"]{2,}|[\d\.]+))$/.test(l)}}},fe={class:"flex-1"},ve={class:"border-b border-gray-200 px-4 py-3 flex items-center justify-between sm:px-6 lg:px-8"},ye=e("div",{class:"min-w-0 flex-1"},[e("h1",{class:"text-lg font-medium leading-6 text-gray-900 sm:truncate"},"All Schemes")],-1),ge={class:"flex mt-0 ml-4"},be=e("span",null,"New Scheme",-1),xe={key:0,class:"mt-6 px-4 sm:px-6 lg:px-8"},we={class:"max-w-sm"},ke={class:"relative rounded-md shadow-sm"},Ce={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Se={class:"mt-6"},qe={key:0,class:"mt-20 inline-block min-w-full align-middle"},Ve={class:"flex items-center flex-col"},De=e("img",{src:"/images/documents.png",class:"w-72",alt:""},null,-1),Le=e("h3",{class:"mt-2 text-lg font-semibold text-gray-900"},"No schemes available",-1),Pe=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating a new scheme.",-1),je={class:"mt-6"},Re=e("span",null,"New Scheme",-1),Te={key:1,class:"inline-block min-w-full border-b border-gray-200 align-middle"},Ue={class:"min-w-full"},Be=e("thead",null,[e("tr",{class:"border-t border-gray-200"},[e("th",{class:"border-b border-gray-200 bg-gray-50 px-6 py-3 text-left text-sm font-semibold text-gray-900",scope:"col"},[e("span",{class:"lg:pl-2"},"Name")]),e("th",{class:"border-b border-gray-200 bg-gray-50 px-6 py-3 text-left text-sm font-semibold text-gray-900",scope:"col"},"Category"),e("th",{class:"border-b border-gray-200 bg-gray-50 px-6 py-3 text-left text-sm font-semibold text-gray-900",scope:"col"},"Type"),e("th",{class:"border-b border-gray-200 bg-gray-50 px-6 py-3 text-left text-sm font-semibold text-gray-900",scope:"col"},"Followup"),e("th",{class:"hidden border-b border-gray-200 bg-gray-50 px-6 py-3 text-right text-sm font-semibold text-gray-900 md:table-cell",scope:"col"},"Status"),e("th",{class:"border-b border-gray-200 bg-gray-50 py-3 pr-6 text-right text-sm font-semibold text-gray-900",scope:"col"}),e("th",{class:"border-b border-gray-200 bg-gray-50 py-3 pr-6 text-right text-sm font-semibold text-gray-900",scope:"col"})])],-1),Ie={class:"divide-y divide-gray-100 bg-white"},ze={class:"w-1/3 max-w-0 whitespace-nowrap px-6 py-3 text-sm font-medium text-gray-900"},Ae={class:"lg:pl-2"},Fe={class:"font-medium text-gray-900"},Ne={class:"text-gray-500"},Me={class:"px-6 py-3 text-sm font-medium text-gray-500"},Oe={class:"px-6 py-3 text-sm font-medium text-gray-500"},Ee={key:0,class:"inline-flex items-center rounded bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-800"},He=e("svg",{class:"mr-1.5 h-2 w-2 text-blue-400",fill:"currentColor",viewBox:"0 0 8 8"},[e("circle",{cx:"4",cy:"4",r:"3"})],-1),Ge={key:1,class:"inline-flex items-center rounded bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800"},Ke=e("svg",{class:"mr-1.5 h-2 w-2 text-green-400",fill:"currentColor",viewBox:"0 0 8 8"},[e("circle",{cx:"4",cy:"4",r:"3"})],-1),Xe={class:"w-5 px-6 py-3 text-sm font-medium text-gray-500"},Je={class:"hidden whitespace-nowrap px-6 py-3 text-right text-sm text-gray-500 md:table-cell"},Qe={key:0,class:"inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800"},We={key:1,class:"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800"},Ye={class:"whitespace-nowrap px-6 py-3 text-right text-sm font-medium"},Ze=["onClick"],$e={class:"whitespace-nowrap px-6 py-3 text-right text-sm font-medium"},et=["onClick"],tt={key:0},st=e("td",{colspan:"5",class:"whitespace-nowrap px-6 py-3 text-sm font-medium text-gray-900"},[e("span",{class:"lg:pl-2 text-gray-600 font-medium"},"No results found!")],-1),ot=[st],lt=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),rt={class:"fixed inset-0 z-10 overflow-y-auto"},it={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},at={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pt-5 sm:pb-4"},nt={class:"flex justify-between items-center"},ct=e("div",{class:"mt-1"},[e("p",{class:"text-sm text-gray-500"},"Enter scheme details and allocate the location")],-1),ut=e("span",{class:"sr-only"},"Use setting",-1),mt=e("svg",{class:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12"},[e("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),dt=[mt],_t=e("svg",{class:"h-3 w-3 text-blue-600",fill:"currentColor",viewBox:"0 0 12 12"},[e("path",{d:"M3.707 5.293a1 1 0 00-1.414 1.414l1.414-1.414zM5 8l-.707.707a1 1 0 001.414 0L5 8zm4.707-3.293a1 1 0 00-1.414-1.414l1.414 1.414zm-7.414 2l2 2 1.414-1.414-2-2-1.414 1.414zm3.414 2l4-4-1.414-1.414-4 4 1.414 1.414z"})],-1),ht=[_t],pt={class:"my-5 flex flex-col gap-y-6"},ft={class:"grid grid-cols-2 gap-5"},vt={class:""},yt=e("option",{value:"",selected:"",disabled:""},"Select Scheme Category",-1),gt=e("option",{value:"central"},"Central Level",-1),bt=e("option",{value:"state"},"State Level",-1),xt=e("option",{value:"district"},"District Level",-1),wt=e("option",{value:"block"},"Block Level",-1),kt=e("option",{value:"panchayat"},"Panchayat Level",-1),Ct=e("option",{value:"village"},"Village Level",-1),St=e("option",{value:"other"},"Other",-1),qt=[yt,gt,bt,xt,wt,kt,Ct,St],Vt={key:0,class:"mt-1 text-red-600 text-sm"},Dt={class:""},Lt={class:"relative rounded-md shadow-sm"},Pt={key:0,class:"mt-1 text-red-600 text-sm"},jt={class:"grid grid-cols-2 gap-5"},Rt={class:""},Tt={class:"relative rounded-md shadow-sm"},Ut={key:0,class:"mt-1 text-red-600 text-sm"},Bt={class:""},It=e("option",{value:"",selected:"",disabled:""},"Select Scheme Type",-1),zt=e("option",{value:"scheme"},"Scheme",-1),At=e("option",{value:"prerequisite"},"Pre-Requisite",-1),Ft=[It,zt,At],Nt={key:0,class:"mt-1 text-red-600 text-sm"},Mt={class:"grid grid-cols-2 gap-5"},Ot={class:""},Et={class:"relative rounded-md shadow-sm"},Ht={key:0,class:"mt-1 text-red-600 text-sm"},Gt={class:"relative mt-1"},Kt={key:0,class:"mt-1 text-red-600 text-sm"},Xt={key:0,class:"mt-2 mb-5 gap-y-6"},Jt=e("div",null,[e("h4",{class:"text-base font-medium leading-6 text-gray-900"},"Documents Required"),e("div",{class:"mt-1"},[e("p",{class:"text-sm text-gray-500"},"These documents would be required to apply for this scheme")])],-1),Qt={class:"mt-2"},Wt={role:"list",class:"divide-y divide-gray-200"},Yt={class:"text-sm text-gray-900"},Zt=["onClick"],$t={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},es=e("span",null,"Save",-1),ts=[es],ss={key:1,class:"group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold bg-blue-600 opacity-60 text-white cursor-not-allowed"},os=e("span",null,"Saving",-1),ls=e("svg",{class:"animate-spin ml-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),rs=[os,ls],is=e("span",null,"Cancel",-1),as=[is],ns=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),cs={class:"fixed inset-0 z-10 overflow-y-auto"},us={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ms={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pt-5 sm:pb-4"},ds={class:"flex justify-between items-center"},_s=e("div",{class:"mt-1"},[e("p",{class:"text-sm text-gray-500"},"This scheme will only be visible when the person passes these rules")],-1),hs={class:"my-5 flex flex-col gap-y-2"},ps={class:"col-start-1 col-end-5"},fs=["onUpdate:modelValue","onChange"],vs=e("option",{value:"state",selected:""},"State",-1),ys=e("option",{value:"social_status"},"Social Status",-1),gs=e("option",{value:"caste"},"Caste",-1),bs=e("option",{value:"age"},"Age",-1),xs=e("option",{value:"gender"},"Gender",-1),ws=e("option",{value:"marital_status"},"Marital Status",-1),ks=e("option",{value:"disability_status"},"Disability Status",-1),Cs=e("option",{value:"type_of_house"},"Type of House",-1),Ss=e("option",{value:"aadhaar_card"},"Aadhaar Card",-1),qs=e("option",{value:"bank_account"},"Bank A/c",-1),Vs=e("option",{value:"election_card"},"Election Card",-1),Ds=e("option",{value:"widow_status"},"Widow Status",-1),Ls=e("option",{value:"status_of_women"},"Status of Women",-1),Ps=e("option",{value:"land_ownership"},"Land Ownership",-1),js=e("option",{value:"card_score"},"Card Score",-1),Rs=[vs,ys,gs,bs,xs,ws,ks,Cs,Ss,qs,Vs,Ds,Ls,Ps,js],Ts={class:"col-start-5 col-end-7"},Us=["onUpdate:modelValue"],Bs={key:0,value:"equal_to"},Is={key:1,value:"greater_than",selected:""},zs={key:2,value:"less_than",selected:""},As={class:"col-start-7 col-end-10"},Fs={key:1,class:"relative rounded-md shadow-sm"},Ns=["onUpdate:modelValue"],Ms=["value","selected"],Os={key:3,class:"mt-1 text-red-600 text-sm"},Es={class:"col-span-1"},Hs=["onClick"],Gs={class:"mt-4"},Ks={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},Xs=e("span",null,"Save",-1),Js=[Xs],Qs={key:1,class:"group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold bg-blue-600 opacity-60 text-white cursor-not-allowed"},Ws=e("span",null,"Saving",-1),Ys=e("svg",{class:"animate-spin ml-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Zs=[Ws,Ys],$s=e("span",null,"Cancel",-1),eo=[$s],to=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),so={class:"fixed inset-0 z-10 overflow-y-auto"},oo={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},lo={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ro={class:"sm:flex sm:items-start"},io={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},ao={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},no=e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"},"Are you sure you want to delete this scheme? This action cannot be undone.")],-1),co={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},uo=e("span",null,"Delete",-1),mo=[uo],_o={key:1,class:"group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold bg-red-600 opacity-60 text-white cursor-not-allowed"},ho=e("span",null,"Deleting",-1),po=e("svg",{class:"animate-spin ml-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),fo=[ho,po],vo=e("span",null,"Cancel",-1),yo=[vo];function go(l,t,n,d,o,c){const p=_("PlusIcon"),D=_("MagnifyingGlassIcon"),x=_("TextInput"),b=_("TransitionChild"),L=_("DialogTitle"),T=_("Switch"),y=_("InputLabel"),U=_("ComboboxInput"),B=_("ChevronUpDownIcon"),I=_("ComboboxButton"),z=_("CheckIcon"),A=_("ComboboxOption"),F=_("ComboboxOptions"),N=_("Combobox"),M=_("XCircleIcon"),P=_("DialogPanel"),j=_("Dialog"),R=_("TransitionRoot"),O=_("TrashIcon"),E=_("ExclamationTriangleIcon"),H=_("AppLayout");return r(),w(H,null,{default:u(()=>[e("div",fe,[e("div",ve,[ye,e("div",ge,[e("button",{onClick:t[0]||(t[0]=(...s)=>c.addScheme&&c.addScheme(...s)),type:"button",class:"group inline-flex items-center justify-center rounded-full py-1.5 px-5 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-blue-600 text-white hover:text-slate-100 hover:bg-blue-500 active:bg-blue-800 active:text-blue-100 focus-visible:outline-blue-600"},[a(p,{class:"-ml-0.5 mr-2 h-4 w-4","aria-hidden":"true"}),be])])]),n.all_schemes.length>0?(r(),i("div",xe,[e("div",we,[e("div",ke,[e("div",Ce,[a(D,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),a(x,{modelValue:o.search_query,"onUpdate:modelValue":t[1]||(t[1]=s=>o.search_query=s),onKeyup:t[2]||(t[2]=s=>c.search()),onChange:t[3]||(t[3]=s=>c.search()),autocomplete:"off",id:"search_input",type:"text",placeholder:"Search Schemes",class:"block w-full pl-10 font-medium",required:""},null,8,["modelValue"])])])])):m("",!0),e("div",Se,[n.all_schemes.length==0?(r(),i("div",qe,[e("div",Ve,[De,Le,Pe,e("div",je,[e("button",{onClick:t[4]||(t[4]=(...s)=>c.addScheme&&c.addScheme(...s)),type:"button",class:"group inline-flex items-center justify-center rounded-full py-1.5 px-5 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-blue-600 text-white hover:text-slate-100 hover:bg-blue-500 active:bg-blue-800 active:text-blue-100 focus-visible:outline-blue-600"},[a(p,{class:"-ml-0.5 mr-2 h-4 w-4","aria-hidden":"true"}),Re])])])])):(r(),i("div",Te,[e("table",Ue,[Be,e("tbody",Ie,[(r(!0),i(C,null,S(o.display_schemes,s=>(r(),i("tr",{key:s.id},[e("td",ze,[e("div",Ae,[e("div",Fe,v(s.name),1),e("div",Ne,v(s.department),1)])]),e("td",Me,v(s.display_category)+" level ",1),e("td",Oe,[s.type=="scheme"?(r(),i("span",Ee,[He,k(" Scheme ")])):(r(),i("span",Ge,[Ke,k(" Pre-Requisite ")]))]),e("td",Xe,v(s.followup_days)+" days ",1),e("td",Je,[s.is_active==1?(r(),i("span",Qe,"Active")):(r(),i("span",We,"Inactive"))]),e("td",Ye,[e("a",{onClick:f=>c.editRules(s),href:"javascript:void(0)",class:"text-blue-600 hover:text-blue-900"},"Rules",8,Ze)]),e("td",$e,[e("a",{onClick:f=>c.editScheme(s),href:"javascript:void(0)",class:"text-blue-600 hover:text-blue-900"},"Edit",8,et)])]))),128)),o.display_schemes.length==0?(r(),i("tr",tt,ot)):m("",!0)])])]))]),a(R,{as:"template",show:o.scheme_form.show_popup},{default:u(()=>[a(j,{as:"div",class:"relative z-10",onClose:t[15]||(t[15]=s=>o.scheme_form.show_popup=!1)},{default:u(()=>[a(b,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:u(()=>[lt]),_:1}),e("div",rt,[e("div",it,[a(b,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:u(()=>[a(P,{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-xl"},{default:u(()=>[e("div",at,[e("div",nt,[e("div",null,[a(L,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:u(()=>[k(v(o.scheme_form.popup_title),1)]),_:1}),ct]),e("div",null,[a(T,{modelValue:o.scheme_form.is_active,"onUpdate:modelValue":t[5]||(t[5]=s=>o.scheme_form.is_active=s),class:g([o.scheme_form.is_active?"bg-blue-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"])},{default:u(()=>[ut,e("span",{class:g([o.scheme_form.is_active?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},[e("span",{class:g([o.scheme_form.is_active?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 flex h-full w-full items-center justify-center transition-opacity"]),"aria-hidden":"true"},dt,2),e("span",{class:g([o.scheme_form.is_active?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 flex h-full w-full items-center justify-center transition-opacity"]),"aria-hidden":"true"},ht,2)],2)]),_:1},8,["modelValue","class"])])]),e("div",pt,[e("div",ft,[e("div",vt,[a(y,{for:"scheme_state",value:"Category"}),q(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>o.scheme_form.category.value=s),id:"scheme_state",class:"mt-1 block w-full rounded-md border border-gray-200 font-medium bg-gray-50 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-blue-500 sm:text-sm"},qt,512),[[V,o.scheme_form.category.value]]),o.scheme_form.category.error?(r(),i("p",Vt,"Please select valid category")):m("",!0)]),e("div",Dt,[a(y,{for:"scheme_department",value:"Department"}),e("div",Lt,[a(x,{modelValue:o.scheme_form.department.value,"onUpdate:modelValue":t[7]||(t[7]=s=>o.scheme_form.department.value=s),id:"scheme_department",type:"text",class:"block w-full font-medium",required:""},null,8,["modelValue"])]),o.scheme_form.department.error?(r(),i("p",Pt,"Please enter valid department")):m("",!0)])]),e("div",jt,[e("div",Rt,[a(y,{for:"scheme_name",value:"Name"}),e("div",Tt,[a(x,{modelValue:o.scheme_form.name.value,"onUpdate:modelValue":t[8]||(t[8]=s=>o.scheme_form.name.value=s),id:"scheme_name",type:"text",class:"block w-full font-medium",required:""},null,8,["modelValue"])]),o.scheme_form.name.error?(r(),i("p",Ut,"Please enter valid name")):m("",!0)]),e("div",Bt,[a(y,{for:"scheme_type",value:"Type"}),q(e("select",{"onUpdate:modelValue":t[9]||(t[9]=s=>o.scheme_form.type.value=s),id:"scheme_type",class:"mt-1 block w-full rounded-md border border-gray-200 font-medium bg-gray-50 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-blue-500 sm:text-sm"},Ft,512),[[V,o.scheme_form.type.value]]),o.scheme_form.type.error?(r(),i("p",Nt,"Please select scheme type")):m("",!0)])]),e("div",Mt,[e("div",Ot,[a(y,{for:"scheme_followup_days",value:"Follow Up Days"}),e("div",Et,[a(x,{modelValue:o.scheme_form.followup_days.value,"onUpdate:modelValue":t[10]||(t[10]=s=>o.scheme_form.followup_days.value=s),maxlength:"2",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",id:"scheme_followup_days",type:"number",class:"block w-full font-medium",required:""},null,8,["modelValue"])]),o.scheme_form.followup_days.error?(r(),i("p",Ht,"Please enter valid followup days")):m("",!0)]),e("div",null,[a(y,{for:"user_allocated_villages",value:"Documents Required"}),a(N,{as:"div",modelValue:o.scheme_form.pre_requisites,"onUpdate:modelValue":t[12]||(t[12]=s=>o.scheme_form.pre_requisites=s),multiple:""},{default:u(()=>[e("div",Gt,[a(U,{modelValue:o.scheme_form.pre_requisite_search,"onUpdate:modelValue":t[11]||(t[11]=s=>o.scheme_form.pre_requisite_search=s),onKeypress:c.filterPreRequisites,onChange:c.filterPreRequisites,onFocusin:c.filterPreRequisites,class:"w-full rounded-md border border-gray-200 font-medium bg-gray-50 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-blue-500 sm:text-sm"},null,8,["modelValue","onKeypress","onChange","onFocusin"]),a(I,{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:u(()=>[a(B,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),o.filteredPreRequisites.length>0?(r(),w(F,{key:0,class:"absolute z-50 bottom-12 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:u(()=>[(r(!0),i(C,null,S(o.filteredPreRequisites,s=>(r(),w(A,{key:s.id,value:s.id,as:"template"},{default:u(({active:f,selected:h})=>[e("li",{class:g(["relative cursor-default select-none py-2 pl-3 pr-9",f?"bg-blue-600 text-white":"text-gray-900"])},[e("span",{class:g(["block truncate",h&&"font-semibold"])},v(s.name),3),h?(r(),i("span",{key:0,class:g(["absolute inset-y-0 right-0 flex items-center pr-4",f?"text-white":"text-blue-600"])},[a(z,{class:"h-5 w-5","aria-hidden":"true"})],2)):m("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):m("",!0)])]),_:1},8,["modelValue"]),o.scheme_form.pre_requisite_error?(r(),i("p",Kt,"Please select atleast 1 document")):m("",!0)])])]),o.scheme_form.pre_requisites.length>0?(r(),i("div",Xt,[Jt,e("div",Qt,[e("ul",Wt,[(r(!0),i(C,null,S(o.scheme_form.pre_requisites,s=>(r(),i("li",{key:s,class:"flex items-center justify-between py-2"},[e("p",Yt,v(n.prerequisites[s].name),1),e("div",{onClick:f=>c.removeDocument(s),class:"cursor-pointer"},[a(M,{class:"h-5 w-5 text-red-600"})],8,Zt)]))),128))])])])):m("",!0)]),e("div",$t,[o.scheme_form.processing?o.scheme_form.processing?(r(),i("button",ss,rs)):m("",!0):(r(),i("button",{key:0,onClick:t[13]||(t[13]=(...s)=>c.validateForm&&c.validateForm(...s)),type:"button",class:"group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-blue-600 text-white hover:text-slate-100 hover:bg-blue-500 active:bg-blue-800 active:text-blue-100 focus-visible:outline-blue-600"},ts)),o.scheme_form.processing?m("",!0):(r(),i("button",{key:2,onClick:t[14]||(t[14]=s=>o.scheme_form.show_popup=!1),type:"button",class:"mr-3 group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 active:bg-gray-100 focus-visible:outline-blue-600"},as))])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),a(R,{as:"template",show:o.rules_form.show_popup},{default:u(()=>[a(j,{as:"div",class:"relative z-10",onClose:t[19]||(t[19]=s=>o.rules_form.show_popup=!1)},{default:u(()=>[a(b,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:u(()=>[ns]),_:1}),e("div",cs,[e("div",us,[a(b,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:u(()=>[a(P,{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl"},{default:u(()=>[e("div",ms,[e("div",ds,[e("div",null,[a(L,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:u(()=>[k(v(o.rules_form.popup_title),1)]),_:1}),_s])]),e("div",hs,[(r(!0),i(C,null,S(o.rules_form.rules,(s,f)=>(r(),i("div",{key:f,class:"grid grid-cols-10 gap-5 items-start"},[e("div",ps,[f==0?(r(),w(y,{key:0,for:"scheme_rule_field",value:"Field"})):m("",!0),q(e("select",{"onUpdate:modelValue":h=>s.field.value=h,onChange:h=>c.setRuleValues(f),id:"scheme_rule_field",class:"mt-1 block w-full rounded-md border border-gray-200 font-medium bg-gray-50 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-blue-500 sm:text-sm"},Rs,40,fs),[[V,s.field.value]])]),e("div",Ts,[f==0?(r(),w(y,{key:0,for:"scheme_rule_operator",value:"Operator"})):m("",!0),q(e("select",{"onUpdate:modelValue":h=>s.operator.value=h,id:"scheme_rule_operator",class:"mt-1 block w-full rounded-md border border-gray-200 font-bold bg-gray-50 px-3 py-2 text-blue-600 placeholder-gray-400 focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-blue-500 sm:text-sm"},[n.rule_values[s.field.value]!="number"?(r(),i("option",Bs,"=")):m("",!0),n.rule_values[s.field.value]=="number"?(r(),i("option",Is,">")):m("",!0),n.rule_values[s.field.value]=="number"?(r(),i("option",zs,"\u2264")):m("",!0)],8,Us),[[V,s.operator.value]])]),e("div",As,[f==0?(r(),w(y,{key:0,for:"scheme_rule_value",value:"Value"})):m("",!0),Array.isArray(n.rule_values[s.field.value])?q((r(),i("select",{key:2,"onUpdate:modelValue":h=>s.matching_value.value=h,id:"scheme_rule_value",class:"mt-1 block w-full rounded-md border border-gray-200 font-medium bg-gray-50 px-3 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-blue-500 sm:text-sm"},[(r(!0),i(C,null,S(n.rule_values[s.field.value],(h,G)=>(r(),i("option",{key:h.value,value:h.value,selected:G==0},v(h.name),9,Ms))),128))],8,Ns)),[[V,s.matching_value.value]]):(r(),i("div",Fs,[a(x,{modelValue:s.matching_value.value,"onUpdate:modelValue":h=>s.matching_value.value=h,id:"scheme_rule_value",type:n.rule_values[s.field.value],class:"block w-full font-medium",required:""},null,8,["modelValue","onUpdate:modelValue","type"])])),s.matching_value.error?(r(),i("p",Os,"Please enter valid value")):m("",!0)]),e("div",Es,[e("div",{onClick:h=>c.removeCondition(s),class:g([o.rules_form.rules.length==1?"cursor-not-allowed":"cursor-pointer"])},[a(O,{class:g([{"opacity-50":o.rules_form.rules.length==1,"mt-12":f==0,"mt-4":f>0},"h-4 w-4 text-red-600"])},null,8,["class"])],10,Hs)])]))),128)),e("div",Gs,[e("button",{onClick:t[16]||(t[16]=(...s)=>c.addCondition&&c.addCondition(...s)),type:"button",class:"inline-flex items-center rounded border border-transparent bg-blue-100 px-2.5 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},[a(p,{class:"h-4 w-4 mr-1.5"}),k(" Add Condition ")])])])]),e("div",Ks,[o.rules_form.processing?o.rules_form.processing?(r(),i("button",Qs,Zs)):m("",!0):(r(),i("button",{key:0,onClick:t[17]||(t[17]=(...s)=>c.saveRulesForm&&c.saveRulesForm(...s)),type:"button",class:"group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-blue-600 text-white hover:text-slate-100 hover:bg-blue-500 active:bg-blue-800 active:text-blue-100 focus-visible:outline-blue-600"},Js)),o.rules_form.processing?m("",!0):(r(),i("button",{key:2,onClick:t[18]||(t[18]=s=>o.rules_form.show_popup=!1),type:"button",class:"mr-3 group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 active:bg-gray-100 focus-visible:outline-blue-600"},eo))])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),a(R,{as:"template",show:o.delete_form.show_popup},{default:u(()=>[a(j,{as:"div",class:"relative z-10",onClose:t[22]||(t[22]=s=>o.delete_form.show_popup=!1)},{default:u(()=>[a(b,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:u(()=>[to]),_:1}),e("div",so,[e("div",oo,[a(b,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:u(()=>[a(P,{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-md"},{default:u(()=>[e("div",lo,[e("div",ro,[e("div",io,[a(E,{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),e("div",ao,[a(L,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:u(()=>[k("Delete "+v(o.delete_form.scheme_name)+"?",1)]),_:1}),no])])]),e("div",co,[o.delete_form.processing?o.delete_form.processing?(r(),i("button",_o,fo)):m("",!0):(r(),i("button",{key:0,onClick:t[20]||(t[20]=(...s)=>c.deleteProcess&&c.deleteProcess(...s)),type:"button",class:"group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-red-600 text-white hover:text-slate-100 hover:bg-red-500 active:bg-red-800 active:text-red-100 focus-visible:outline-red-600"},mo)),o.delete_form.processing?m("",!0):(r(),i("button",{key:2,onClick:t[21]||(t[21]=s=>o.delete_form.show_popup=!1),type:"button",class:"mr-3 group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 active:bg-gray-100 focus-visible:outline-blue-600"},yo))])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1})}const Do=te(pe,[["render",go]]);export{Do as default};
