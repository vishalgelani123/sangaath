import{A as D,N as T,_ as j,U as I,o as N,f as V}from"./AppLayout.c471b81a.js";import{_ as L}from"./TextInput.86ba2c92.js";import{_ as z}from"./InputLabel.5855d489.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as S,a as B,b as E}from"./MagnifyingGlassIcon.72cf383a.js";import{B as c,o as l,c as F,w as n,a as e,b as o,e as a,f as p,F as M,i as G,g as w,t as f}from"./app.c9482037.js";const U={components:{AppLayout:D,TextInput:L,InputLabel:z,Dialog:T,DialogPanel:j,DialogTitle:I,TransitionChild:N,TransitionRoot:V,MagnifyingGlassIcon:S,PlusIcon:B,ExclamationTriangleIcon:E},props:["all_prerequisites"],data(){return{display_prerequisites:this.all_prerequisites,search_query:"",prerequisite_form:{show_popup:!1,popup_title:"Create New Pre-Requisite",is_active:!0,name:{value:"",error:!1},save_type:"new",prerequisite_id:null,processing:!1},delete_form:{prerequisite_name:"",prerequisite_id:null,show_popup:!1,processing:!1}}},methods:{search(){var r=this.search_query.toString().toLowerCase();if(r.length>0){this.display_prerequisites=[];for(var t in this.all_prerequisites){var d=this.all_prerequisites[t];d.name.toString().toLowerCase().includes(r)&&this.display_prerequisites.push(d)}}else this.display_prerequisites=this.all_prerequisites},addPreRequisite(){this.prerequisite_form.name.error=!1,this.prerequisite_form.save_type="new",this.prerequisite_form.prerequisite_id=null,this.prerequisite_form.is_active=!0,this.prerequisite_form.popup_title="Create New Pre-Requisite",this.prerequisite_form.show_popup=!0},editPreRequisite(r){this.prerequisite_form.name.error=!1,this.prerequisite_form.save_type="edit",this.prerequisite_form.prerequisite_id=r.id,this.prerequisite_form.name.value=r.name,this.prerequisite_form.is_active=r.is_active==1,this.prerequisite_form.popup_title="Edit Pre-Requisite",this.prerequisite_form.show_popup=!0},deletePreRequisite(r,t){this.delete_form.prerequisite_name=r,this.delete_form.prerequisite_id=t,this.delete_form.show_popup=!0},validateForm(){this.prerequisite_form.name.error=!1;var r=this.prerequisite_form.name.value.toString();if(r.length==0){this.prerequisite_form.name.error=!0;return}this.savePreRequisite(r)},savePreRequisite(r){this.prerequisite_form.processing=!0;var t=new FormData;t.append("name",r),t.append("save_type",this.prerequisite_form.save_type),t.append("prerequisite_id",this.prerequisite_form.prerequisite_id),t.append("is_active",this.prerequisite_form.is_active?1:0);var d=this;axios.post("/pre-requisites/save",t).then(function(m){d.prerequisite_form.processing=!1;var s=m.data;s.status==1&&d.$inertia.visit("/pre-requisites",{only:["all_prerequisites"]})})},deleteProcess(){this.delete_form.processing=!0;var r=new FormData;r.append("prerequisite_id",this.delete_form.prerequisite_id);var t=this;axios.post("/pre-requisites/delete",r).then(function(d){t.delete_form.processing=!1;var m=d.data;m.status==1&&t.$inertia.visit("/pre-requisites",{only:["all_prerequisites"]})})}}},H={class:"flex-1"},K={class:"border-b border-gray-200 px-4 py-3 flex items-center justify-between sm:px-6 lg:px-8"},Q=e("div",{class:"min-w-0 flex-1"},[e("h1",{class:"text-lg font-medium leading-6 text-gray-900 sm:truncate"},"All Pre-Requisites")],-1),J={class:"flex mt-0 ml-4"},O=e("span",null,"New Pre-Requisite",-1),W={key:0,class:"mt-6 px-4 sm:px-6 lg:px-8"},X={class:"max-w-sm"},Y={class:"relative rounded-md shadow-sm"},Z={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},$={class:"mt-6"},ee={key:0,class:"mt-20 inline-block min-w-full align-middle"},te={class:"flex items-center flex-col"},se=e("img",{src:"/images/documents.png",class:"w-72",alt:""},null,-1),ie=e("h3",{class:"mt-2 text-lg font-semibold text-gray-900"},"No pre-requisite available",-1),oe=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating a new pre-requisite.",-1),re={class:"mt-6"},le=e("span",null,"New Pre-Requisite",-1),ne={key:1,class:"inline-block min-w-full border-b border-gray-200 align-middle"},ae={class:"min-w-full"},ue=e("thead",null,[e("tr",{class:"border-t border-gray-200"},[e("th",{class:"border-b border-gray-200 bg-gray-50 px-6 py-3 text-left text-sm font-semibold text-gray-900",scope:"col"},[e("span",{class:"lg:pl-2"},"Name")]),e("th",{class:"border-b border-gray-200 bg-gray-50 py-3 pr-6 text-right text-sm font-semibold text-gray-900",scope:"col"}),e("th",{class:"border-b border-gray-200 bg-gray-50 py-3 pr-6 text-right text-sm font-semibold text-gray-900",scope:"col"})])],-1),ce={class:"divide-y divide-gray-100 bg-white"},de={class:"w-1/2 max-w-0 whitespace-nowrap px-6 py-3 text-sm font-medium text-gray-900"},pe={class:"flex items-center space-x-3 lg:pl-2"},me={class:"whitespace-nowrap px-6 py-3 text-right text-sm font-medium"},_e=["onClick"],fe={class:"whitespace-nowrap px-6 py-3 text-right text-sm font-medium"},he=["onClick"],ye={key:0},ve=e("td",{colspan:"5",class:"whitespace-nowrap px-6 py-3 text-sm font-medium text-gray-900"},[e("span",{class:"lg:pl-2 text-gray-600 font-medium"},"No results found!")],-1),xe=[ve],ge=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),be={class:"fixed inset-0 z-10 overflow-y-auto"},we={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},qe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pt-5 sm:pb-4"},ke={class:"flex justify-between items-center"},Ce=e("div",{class:"mt-1"},[e("p",{class:"text-sm text-gray-500"},"Enter scheme details and allocate the location")],-1),Pe=e("div",null,null,-1),Re={class:"my-5 flex flex-col gap-y-6"},De={class:""},Te={class:"relative rounded-md shadow-sm"},je={key:0,class:"mt-1 text-red-600 text-sm"},Ie={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},Ne=e("span",null,"Save",-1),Ve=[Ne],Le={key:1,class:"group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold bg-blue-600 opacity-60 text-white cursor-not-allowed"},ze=e("span",null,"Saving",-1),Ae=e("svg",{class:"animate-spin ml-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Se=[ze,Ae],Be=e("span",null,"Cancel",-1),Ee=[Be],Fe=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Me={class:"fixed inset-0 z-10 overflow-y-auto"},Ge={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Ue={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},He={class:"sm:flex sm:items-start"},Ke={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},Qe={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Je=e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"},"Are you sure you want to delete this prerequisite? This action cannot be undone.")],-1),Oe={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},We=e("span",null,"Delete",-1),Xe=[We],Ye={key:1,class:"group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold bg-red-600 opacity-60 text-white cursor-not-allowed"},Ze=e("span",null,"Deleting",-1),$e=e("svg",{class:"animate-spin ml-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),et=[Ze,$e],tt=e("span",null,"Cancel",-1),st=[tt];function it(r,t,d,m,s,u){const h=c("PlusIcon"),q=c("MagnifyingGlassIcon"),y=c("TextInput"),_=c("TransitionChild"),v=c("DialogTitle"),k=c("InputLabel"),x=c("DialogPanel"),g=c("Dialog"),b=c("TransitionRoot"),C=c("ExclamationTriangleIcon"),P=c("AppLayout");return l(),F(P,null,{default:n(()=>[e("div",H,[e("div",K,[Q,e("div",J,[e("button",{onClick:t[0]||(t[0]=(...i)=>u.addPreRequisite&&u.addPreRequisite(...i)),type:"button",class:"group inline-flex items-center justify-center rounded-full py-1.5 px-5 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-blue-600 text-white hover:text-slate-100 hover:bg-blue-500 active:bg-blue-800 active:text-blue-100 focus-visible:outline-blue-600"},[o(h,{class:"-ml-0.5 mr-2 h-4 w-4","aria-hidden":"true"}),O])])]),d.all_prerequisites.length>0?(l(),a("div",W,[e("div",X,[e("div",Y,[e("div",Z,[o(q,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),o(y,{modelValue:s.search_query,"onUpdate:modelValue":t[1]||(t[1]=i=>s.search_query=i),onKeyup:t[2]||(t[2]=i=>u.search()),onChange:t[3]||(t[3]=i=>u.search()),autocomplete:"off",id:"search",type:"text",placeholder:"Search Pre-Requisites",class:"block w-full pl-10 font-medium",required:""},null,8,["modelValue"])])])])):p("",!0),e("div",$,[d.all_prerequisites.length==0?(l(),a("div",ee,[e("div",te,[se,ie,oe,e("div",re,[e("button",{onClick:t[4]||(t[4]=(...i)=>u.addPreRequisite&&u.addPreRequisite(...i)),type:"button",class:"group inline-flex items-center justify-center rounded-full py-1.5 px-5 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-blue-600 text-white hover:text-slate-100 hover:bg-blue-500 active:bg-blue-800 active:text-blue-100 focus-visible:outline-blue-600"},[o(h,{class:"-ml-0.5 mr-2 h-4 w-4","aria-hidden":"true"}),le])])])])):(l(),a("div",ne,[e("table",ae,[ue,e("tbody",ce,[(l(!0),a(M,null,G(s.display_prerequisites,i=>(l(),a("tr",{key:i.id},[e("td",de,[e("div",pe,f(i.name),1)]),e("td",me,[e("a",{onClick:R=>u.editPreRequisite(i),href:"javascript:void(0)",class:"text-blue-600 hover:text-blue-900"},"Edit",8,_e)]),e("td",fe,[e("a",{onClick:R=>u.deletePreRequisite(i.name,i.id),href:"javascript:void(0)",class:"text-red-600 hover:text-red-900"},"Delete",8,he)])]))),128)),s.display_prerequisites.length==0?(l(),a("tr",ye,xe)):p("",!0)])])]))]),o(b,{as:"template",show:s.prerequisite_form.show_popup},{default:n(()=>[o(g,{as:"div",class:"relative z-10",onClose:t[8]||(t[8]=i=>s.prerequisite_form.show_popup=!1)},{default:n(()=>[o(_,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[ge]),_:1}),e("div",be,[e("div",we,[o(_,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:n(()=>[o(x,{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm"},{default:n(()=>[e("div",qe,[e("div",ke,[e("div",null,[o(v,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:n(()=>[w(f(s.prerequisite_form.popup_title),1)]),_:1}),Ce]),Pe]),e("div",Re,[e("div",De,[o(k,{for:"name",value:"Name"}),e("div",Te,[o(y,{modelValue:s.prerequisite_form.name.value,"onUpdate:modelValue":t[5]||(t[5]=i=>s.prerequisite_form.name.value=i),id:"prerequisite_name",type:"text",class:"block w-full font-medium",required:""},null,8,["modelValue"])]),s.prerequisite_form.name.error?(l(),a("p",je,"Please enter valid name")):p("",!0)])])]),e("div",Ie,[s.prerequisite_form.processing?s.prerequisite_form.processing?(l(),a("button",Le,Se)):p("",!0):(l(),a("button",{key:0,onClick:t[6]||(t[6]=(...i)=>u.validateForm&&u.validateForm(...i)),type:"button",class:"group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-blue-600 text-white hover:text-slate-100 hover:bg-blue-500 active:bg-blue-800 active:text-blue-100 focus-visible:outline-blue-600"},Ve)),s.prerequisite_form.processing?p("",!0):(l(),a("button",{key:2,onClick:t[7]||(t[7]=i=>s.prerequisite_form.show_popup=!1),type:"button",class:"mr-3 group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 active:bg-gray-100 focus-visible:outline-blue-600"},Ee))])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),o(b,{as:"template",show:s.delete_form.show_popup},{default:n(()=>[o(g,{as:"div",class:"relative z-10",onClose:t[11]||(t[11]=i=>s.delete_form.show_popup=!1)},{default:n(()=>[o(_,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[Fe]),_:1}),e("div",Me,[e("div",Ge,[o(_,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:n(()=>[o(x,{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-md"},{default:n(()=>[e("div",Ue,[e("div",He,[e("div",Ke,[o(C,{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),e("div",Qe,[o(v,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:n(()=>[w("Delete "+f(s.delete_form.prerequisite_name)+"?",1)]),_:1}),Je])])]),e("div",Oe,[s.delete_form.processing?s.delete_form.processing?(l(),a("button",Ye,et)):p("",!0):(l(),a("button",{key:0,onClick:t[9]||(t[9]=(...i)=>u.deleteProcess&&u.deleteProcess(...i)),type:"button",class:"group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 bg-red-600 text-white hover:text-slate-100 hover:bg-red-500 active:bg-red-800 active:text-red-100 focus-visible:outline-red-600"},Xe)),s.delete_form.processing?p("",!0):(l(),a("button",{key:2,onClick:t[10]||(t[10]=i=>s.delete_form.show_popup=!1),type:"button",class:"mr-3 group inline-flex items-center justify-center rounded-full py-1.5 px-6 text-sm font-semibold focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 active:bg-gray-100 focus-visible:outline-blue-600"},st))])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1})}const ct=A(U,[["render",it]]);export{ct as default};
